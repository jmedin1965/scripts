diff -ur -N a/src/usr/local/pkg/backup.inc b/src/usr/local/pkg/backup.inc
--- a/src/usr/local/pkg/backup.inc	2025-12-31 09:50:50.826482000 +1100
+++ b/src/usr/local/pkg/backup.inc	2026-01-07 17:36:23.333876000 +1100
@@ -20,6 +20,33 @@
  * limitations under the License.
  */
 
+$debug = false;
+$debug = true;
+
+#
+# check if has_command_line.
+# if we have been called from command line instead of the CGI GUI
+#
+if ( isset($argv) ) {
+	$has_command_line = true;
+	require_once("shaper.inc");
+}
+else {
+	$has_command_line = false;
+	require_once("guiconfig.inc");
+}
+
+#
+# Check for undefined $config for backup package
+#
+if (!is_array($config['installedpackages']['backup'])) {
+	$config['installedpackages']['backup'] = array();
+}
+if (!is_array($config['installedpackages']['backup']['config'])) {
+	$config['installedpackages']['backup']['config'] = array();
+}
+
+
 function backup_sync_package() {
 	// this was broken code.
 }
@@ -28,6 +55,226 @@
 	// Create the backup directory
 	safe_mkdir("/root/backup/");
 	backup_sync_package();
+}
+
+function send_error( $str )
+{
+	# only send file_notice if called from command line
+	if( isset($argv) ) {
+		file_notice(3, "error: {__FILE__}: $str");
+	}
+}
+
+function do_backup ( $file )
+{
+	global $a_backup, $backup_dir, $backup_status, $backup_status_path;
+
+	$backup_status['last_backup'] = array();
+	$backup_status['last_backup']['start'] = date('Y-m-d H:i:s');
+	if ( isset($argv) ) {
+		$backup_status['last_backup']['run_from'] = "Command Line";
+	}
+	else {
+		$backup_status['last_backup']['run_from'] = "Web GUI";
+	}
+
+	/* assume no... */
+	$has_backup = &$backup_status['last_backup']['has_backup'];;
+	#$backup_status['last_backup']['has_backup'] = false;
+	$backup_status['last_backup']['rc'] = 99;
+	$backup_status['last_backup']['Backup Location Count'] = count($a_backup);
+	$backup_status['last_backup']['Backup Locations'] = array();
+	if (count($a_backup) > 0) {
+		/* Do NOT remove the trailing space after / from $backup_cmd below!!! */
+		$backup_cmd = "/usr/bin/tar --exclude {$backup_dir} --create --verbose --gzip --file {$file} --directory / ";
+
+		foreach ($a_backup as $ent) {
+			if ($ent['enabled'] == "true") {
+				$backup_cmd .= escapeshellarg($ent['path']) . ' ';
+				$backup_status['last_backup']['Backup Locations'][] = $ent['path'];
+			}
+			$has_backup = true;
+			#$backup_status['last_backup']['has_backup'] = true;
+		}
+
+		/* Only interested in stderr */
+		$backup_cmd .= " 2>&1 1>/dev/null";
+
+		exec($backup_cmd, $out, $rc);
+
+		#$backup_status['last_backup']['has_backup'] = ($backup_status['last_backup']['has_backup'] && ($rc === 0));
+		$has_backup = ($has_backup && ($rc === 0));
+		$backup_status['last_backup']['rc'] = $rc;
+	}
+
+	$backup_status['last_backup']['Errors'] = array();
+	#if( $backup_status['last_backup']['has_backup'] ) {
+	if( $has_backup ) {
+		if ( isset($argv) ) {
+			print "created: $file\n";
+		}
+		$backup_status['last_backup']['file'] = "$file";
+	}
+	else {
+		foreach( $out as $err ) {
+			if ( isset($argv) ) {
+				print "error: $err\n";
+			}
+			send_error( $err );
+			$backup_status['last_backup']['Errors'][] = $err;
+		}
+	}
+
+	$backup_status['last_backup']['end'] = date('Y-m-d H:i:s');
+
+	// write status to file
+	file_put_contents("$backup_status_path",  '<?php return ' . var_export($backup_status, true) . ';' );
+
+	// update GUI status message
+	update_backup_status();
+
+	#return( $backup_status['last_backup']['has_backup'] );
+	return( $has_backup );
+}
+
+function update_backup_status()
+{
+	global $backup_status;
+
+	if ($backup_status !== false) {
+
+		$msg .= "Last backup started on {$backup_status['last_backup']['start']}";
+		if ( $backup_status['last_backup']['rc'] == 0 ) {
+			info_box_add( $msg . " was successful.", 'success' );
+		}
+		else {
+			info_box_add( $msg . " failed with error code {$backup_status['last_backup']['rc']}.", 'danger' );
+		}
+		
+		if ( $backup_status['last_backup']['has_backup'] ) {
+			info_box_append( "Backup file {$backup_status['last_backup']['file']} was created on {$backup_status['last_backup']['end']}." );
+		}
+		else {
+			info_box_append( "Failed to create backup file {$backup_status['last_backup']['file']}." );
+		}
+		info_box_append( "The backup command was run from the {$backup_status['last_backup']['run_from']}.") ;
+
+		foreach( $backup_status['last_backup']['Errors'] as $err ) {
+			info_box_append( "Error: $err." );
+		}
+	}
+}
+
+
+function info_box_add( $msg, $type = "" )
+{
+	global $info_box_a;
+
+	// type can be one of (default, info, warning, success, danger)
+
+	$info_box_a[] = array (
+		'msg'  => gettext("$msg"),
+		'type' => "$type"
+	);
+	return( count($info_box_a) - 1 );
+}
+
+function info_box_append( $msg, $index = -1, $type = -1 )
+{
+	global $info_box_a;
+
+	// type can be one of (default, info, warning, success, danger)
+
+	if( $msg == "" ) {
+		$msg = " ";
+	}
+
+	if ( $index == -1 ) {
+		$index = count($info_box_a) - 1;
+	}
+
+	if( isset( $info_box_a[$index]['msg'] ) ) {
+		$info_box_a[$index]['msg'] .= "<br />" . gettext("$msg"); 
+		if( $type != -1 ) {
+			$info_box_a[$index]['type'] = $type;
+		}
+		return( true );
+	}
+	else {
+		return( false );
+	}
+}
+
+function info_box_print()
+{
+	global $info_box_a, $debug, $a_backup, $config;
+
+	$count = 0;
+
+	if( $debug ) {
+
+		info_box_add( "debug = true", "info" );
+
+		$arrayOfRef = [
+			[ 'name' => 'PHP_VERSION', 'value' => PHP_VERSION, ],
+			[ 'name' => '_GET' ],
+			[ 'name' => '_POST' ],
+			[ 'name' => '_REQUEST' ],
+			[ 'name' => '_SESSION' ],
+#			[ 'name' => 'GLOBALS' ],
+			[ 'name' => '_ENV' ],
+			[ 'name' => '_COOKIE' ],
+			[ 'name' => 'argc' ],
+			[ 'name' => 'argv' ],
+			[ 'name' => 'a_backup' ],
+			[ 'name' => '_SERVER' ]
+		];
+
+		foreach ( $arrayOfRef as $a ) {
+
+			info_box_append( "" );
+			$name = $a['name'];
+			if( isset( $a['name'] ) ) {
+				if( isset( $a['value'] ) ) {
+					$array = $a['value'];
+				}
+				else {
+					$array = &$GLOBALS[$name];
+				}
+				if( is_array( $array ) ) {
+					if( count( $array ) === 0 ) {
+						info_box_append( "{$name}:" );
+					}
+					foreach( $array as $key => $value ) {
+						if( $name === 'GLOABLS' && $key === 'GLOBALS' ) {
+							// skip recursion
+							continue;
+						}
+						else {
+							info_box_append( "{$name}[$key] = " . print_r($value, true) );
+						}
+					}
+				}
+				else {
+					info_box_append( "{$name} = " . print_r($array, true) );
+				}
+			}
+			else {
+				info_box_append( "{$name}: not set" );
+			}
+		}
+		info_box_append( "xxx = " . print_r($config['installedpackages']['backup'], true) );
+	}
+
+	foreach( $info_box_a as $i ) {
+		$count += 1;
+		if( $i['type'] == "" ) {
+			print_info_box($i['msg']);
+		}
+		else {
+			print_info_box($i['msg'], $i['type']);
+		}
+	}
 }
 
 ?>
diff -ur -N a/src/usr/local/pkg/backup_head.inc b/src/usr/local/pkg/backup_head.inc
--- a/src/usr/local/pkg/backup_head.inc	1970-01-01 10:00:00.000000000 +1000
+++ b/src/usr/local/pkg/backup_head.inc	2026-01-05 20:09:03.556700000 +1100
@@ -0,0 +1,78 @@
+<?php
+/*
+ * backup_header.inc
+ *
+ * a common header for all backup tab_arrays
+ *
+*/
+
+$pgtitle = array(gettext("Diagnostics"), gettext("Backup Files and Directories"), gettext($thispage));
+
+include("head.inc");
+
+info_box_print();
+
+if (isset($savemsg)) {
+	if (!isset($savemsgtype) ) {
+		$savemsgtype = 'success';
+	}
+	print_info_box($savemsg, $savemsgtype);
+}
+
+if (isset($_REQUEST['savemsg'])) {
+	$savemsg = htmlspecialchars($_REQUEST['savemsg']);
+	if (isset($_REQUEST['savemsgtype'])) {
+		$savemsgtype = htmlspecialchars($_REQUEST['savemsgtype']);
+	}
+	else {
+		$savemsgtype = 'success';
+	}
+	print_info_box($savemsg, $savemsgtype);
+}
+
+
+/*
+        A test to get print_apply_box working
+*/
+$is_dirty = true;
+if ($_POST['apply']) {
+        // 0 is success
+        // non-zero means there was some problem
+        $retval = 0;
+}
+if ($_POST['apply']) {
+        print_apply_result_box($retval);
+        $is_dirty = false;
+}
+if ($is_dirty) {
+        print_apply_box(gettext("The firewall rule configuration has been changed.") . "<br />" . gettext("The changes must be applied for them to take effect."));
+}
+
+$tab_array = array();
+$tab_array[] = array(gettext("Settings"), $thispage == "Settings" , "/packages/backup/backup.php");
+if( $thispage == "Edit" ) {
+        $tab_array[] = array(gettext("Edit"), $thispage == "Edit", "/packages/backup/backup_edit.php");
+} else {
+        $tab_array[] = array(gettext("Add"), $thispage == "Add", "/packages/backup/backup_edit.php");
+}
+$tab_array[] = array(gettext("Debug"), $thispage == "Debug", "/packages/backup/backup_edit.php");
+
+display_top_tabs($tab_array);
+
+
+#print_info_box("a warning message", 'warning');
+#print_info_box("a sucess message", 'success');
+#print_info_box("a danger message", 'danger');
+#info_box_add( $msg, $type = "" );
+#info_box_append( $msg, $index = -1 )
+
+/*
+print_info_box("a nothing message");            // its a warning
+print_info_box("a default message", 'default'); // black on while
+print_info_box("a info message", 'info');       // blue
+print_info_box("a warning message", 'warning'); // yelow
+print_info_box("a sucess message", 'success');  // green
+print_info_box("a danger message", 'danger');   // red
+print_info_box("a danger message, chaged button", 'danger', "cross", "cross text");
+*/
+?>
diff -ur -N a/src/usr/local/www/packages/backup/backup.php b/src/usr/local/www/packages/backup/backup.php
--- a/src/usr/local/www/packages/backup/backup.php	2025-12-28 16:39:23.060309000 +1100
+++ b/src/usr/local/www/packages/backup/backup.php	2026-01-05 20:27:52.636125000 +1100
@@ -19,24 +19,30 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-require_once("guiconfig.inc");
 require_once("/usr/local/pkg/backup.inc");
 
-global $config, $backup_dir, $backup_filename, $backup_path;
 
-if (!is_array($config['installedpackages']['backup'])) {
-	$config['installedpackages']['backup'] = array();
-}
-
-if (!is_array($config['installedpackages']['backup']['config'])) {
-	$config['installedpackages']['backup']['config'] = array();
-}
-
 $a_backup = &$config['installedpackages']['backup']['config'];
 $backup_dir = "/root/backup";
 $backup_filename = "pfsense.bak.tgz";
+$backup_status_path = "{$backup_dir}/backup.status.inc";
 $backup_path = "{$backup_dir}/{$backup_filename}";
+$backup_status = include $backup_status_path;
+$info_box_a = [];
 
+
+if ( isset($argv) ) {
+
+	if ( $argc > 1) {
+		for( $i = 1; $i < $argc; $i++ ) {
+			do_backup( $backup_dir . "/" . $argv[$i]  );
+		}
+	}
+	else {
+		do_backup ( $backup_path );
+	}
+}
+
 if ($_GET['act'] == "del") {
 	if ($_GET['type'] == 'backup') {
 		if ($a_backup[$_GET['id']]) {
@@ -51,28 +57,61 @@
 if ($_GET['a'] == "download") {
 	if ($_GET['t'] == "backup") {
 		/* assume no... */
-		$has_backup = false;
-		if (count($a_backup) > 0) {
-			/* Do NOT remove the trailing space after / from $backup_cmd below!!! */
-			$backup_cmd = "/usr/bin/tar --exclude {$backup_path} --create --verbose --gzip --file {$backup_path} --directory / ";
-			foreach ($a_backup as $ent) {
-				if ($ent['enabled'] == "true") {
-					$backup_cmd .= escapeshellarg($ent['path']) . ' ';
-				}
-				$has_backup = true;
-			}
-			exec($backup_cmd, $out, $rc);
-			$has_backup = ($has_backup && ($rc === 0));
+		$has_backup = do_backup( $backup_path );
+
+		/* bailout if there is nothing to download */
+		/* 
+			(
+			  if we don't have a backup 
+			  and
+			  (
+			    if the file doesn't exist
+			    or
+			    its a directory
+			  )
+			)
+			or
+			we were not able to open the file
+		*/
+		if (	!$has_backup &&
+			( !file_exists($backup_path) || is_dir($backup_path) )
+			|| !($fd = fopen($backup_path, 'rb'))
+		   ) {
+			#header('Location: backup.php?savemsg=Error+failed+to+create+backup.');
+			#info_box_add( "{$backup_path}: Failed to create backup.", 'danger' );
 		}
+		else {
+			#header('Location: backup.php?savemsg=Backup+created+successfully.');
+			#info_box_add( "{$backup_path}: Backup created successfully.", 'success' );
+		}
+	}
+	elseif ($_GET['t'] == "download") {
+		/* assume no... */
+		$has_backup = do_backup( $backup_path );
 
 		session_cache_limiter('public');
 
 		/* bailout if there is nothing to download */
-		if ((!$has_backup
-		    && !file_exists($backup_path))
-			|| !($fd = fopen($backup_path, 'rb'))) {
-				header('Location: backup.php');
-				exit(0);
+		/* 
+			(
+			  if we don't have a backup 
+			  and
+			  (
+			    if the file doesn't exist
+			    or
+			    its a directory
+			  )
+			)
+			or
+			we were not able to open the file
+		*/
+		if (	!$has_backup &&
+			( !file_exists($backup_path) || is_dir($backup_path) )
+			|| !($fd = fopen($backup_path, 'rb'))
+		   ) {
+			send_error( "No backup file exists" );
+			header('Location: backup.php');
+			exit(0);
 		}
 
 		header("Content-Type: application/force-download");
@@ -88,6 +127,7 @@
 		fpassthru($fd);
 
 		fclose($fd);
+		header('Location: backup.php');
 		exit(0);
 	}
 }
@@ -95,7 +135,7 @@
 if ($_GET['a'] == "other") {
 	if ($_GET['t'] == "restore") {
 		// Extract the tgz file
-		if (file_exists($backup_path)) {
+		if (file_exists($backup_path) && !is_dir($backup_path)) {
 			system("/usr/bin/tar -xpzC / -f {$backup_path}");
 			header("Location: backup.php?savemsg=Backup+has+been+restored.");
 		} else {
@@ -103,12 +143,9 @@
 		}
 		exit;
 	}
-}
-
-if ($_GET['a'] === 'other') {
-	if ($_GET['t'] === 'delete') {
+	elseif ($_GET['t'] === 'delete') {
 		unlink_if_exists($backup_path);
-		header('Location: backup.php');
+#		header('Location: backup.php');
 	}
 }
 
@@ -118,17 +155,65 @@
 	system("/usr/bin/tar -xpzC / -f {$backup_path}");
 }
 
-$pgtitle = array(gettext("Diagnostics"), gettext("Backup Files and Directories"), gettext("Settings"));
-include("head.inc");
 
-if ($_GET["savemsg"]) {
-	print_info_box($_GET["savemsg"]);
+if ( isset($argv) ) {
+	exit(0);
 }
 
-$tab_array = array();
-$tab_array[] = array(gettext("Settings"), true, "/packages/backup/backup.php");
-$tab_array[] = array(gettext("Add"), false, "/packages/backup/backup_edit.php");
-display_top_tabs($tab_array);
+
+$thispage = "Settings";
+include("/usr/local/pkg/backup_head.inc");
+
+
+/*
+REF: https://stackoverflow.com/questions/31559469/how-to-create-a-simple-javascript-timer#:~:text=Sorted%20by:,6714%2017
+
+a countdown timer
+
+see if I can getthis to display in a print_apply_box
+
+*/
+/*
+<!DOCTYPE html>
+<html>
+<body>
+
+<div id="safeTimer">
+<h2>Safe Timer</h2>
+<p id="safeTimerDisplay"></p>
+</div>
+
+<script type="text/javascript">
+var myVar = setInterval(function(){ myTimer() }, 1000);
+var secondlimit = 30;
+
+function myTimer() {
+if(secondlimit == 0)
+{
+    myStopFunction();
+}
+
+document.getElementById("safeTimerDisplay").innerHTML = '00:' + zeroPad(secondlimit,2);
+secondlimit = secondlimit  - 1;
+
+}
+
+function myStopFunction() {
+    clearInterval(myVar);
+}
+
+function zeroPad(num, places) {
+  var zero = places - num.toString().length + 1;
+  return Array(+(zero > 0 && zero)).join("0") + num;
+}
+
+</script>
+
+</body>
+</html>
+
+*/
+
 ?>
 <div class="panel panel-default">
 	<div class="panel-heading"><h2 class="panel-title">Backups</h2></div>
@@ -136,7 +221,7 @@
 		<div class="table-responsive">
 			<table class="table table-hover">
 				<tr>
-					<td>Use this to tool to backup files and directories. The following directories are recommended for backup:
+					<td>Use this tool to backup files and directories. The following directories are recommended for backup:
 						<table>
 							<tr><td><strong>pfSense Config:</strong></td><td>/cf/conf</td></tr>
 							<tr><td><strong>RRD Graph Data Files:</strong></td><td>/var/db/rrd</td></tr>
@@ -185,10 +270,14 @@
 				<tr>
 					<td>
 						<button type='button' class="btn btn-primary" value='Backup' onclick="document.location.href='backup.php?a=download&amp;t=backup';">
-							<i class="fa fa-download icon-embed-btn"></i>
+							<i class="fa fa-plus icon-embed-btn"></i>
 							Backup
 						</button>
-						<?php	if (file_exists($backup_path)) { ?>
+						<?php	if (file_exists($backup_path) && !is_dir($backup_path)) { ?>
+								<button type='button' class="btn btn-primary" value='Download' onclick="document.location.href='backup.php?a=download&amp;t=download';">
+									<i class="fa fa-download icon-embed-btn"></i>
+									Download
+								</button>
 								<button type="button" class="btn btn-warning" value="Restore" onclick="document.location.href='backup.php?a=other&amp;t=restore';">
 									<i class="fa fa-undo icon-embed-btn"></i>
 									Restore
@@ -211,11 +300,11 @@
 			<table class="table table-striped table-hover table-condensed">
 				<thead>
 					<tr>
-						<td width="20%">Name</td>
-						<td width="25%">Path</td>
-						<td width="5%">Enabled</td>
-						<td width="40%">Description</td>
-						<td width="10%">Actions</td>
+						<td width="20%"><strong>Name</td>
+						<td width="25%"><strong>Path</td>
+						<td width="5%"><strong>Enabled</td>
+						<td width="40%"><strong>Description</td>
+						<td width="10%"><strong>Actions</td>
 					</tr>
 				</thead>
 				<tbody>
diff -ur -N a/src/usr/local/www/packages/backup/backup_edit.php b/src/usr/local/www/packages/backup/backup_edit.php
--- a/src/usr/local/www/packages/backup/backup_edit.php	2026-01-02 16:32:43.966820000 +1100
+++ b/src/usr/local/www/packages/backup/backup_edit.php	2026-01-04 16:26:40.113062000 +1100
@@ -19,19 +19,12 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-require_once("guiconfig.inc");
 require_once("/usr/local/pkg/backup.inc");
 
-if (!is_array($config['installedpackages']['backup'])) {
-	$config['installedpackages']['backup'] = array();
-}
 
-if (!is_array($config['installedpackages']['backup']['config'])) {
-	$config['installedpackages']['backup']['config'] = array();
-}
-
 $a_backup = &$config['installedpackages']['backup']['config'];
 
+
 $id = $_GET['id'];
 if (isset($_POST['id'])) {
 	$id = $_POST['id'];
@@ -43,7 +36,8 @@
 			unset($a_backup[$_GET['id']]);
 			write_config("Backup: Item deleted");
 			backup_sync_package();
-			header("Location: backup.php");
+			$savemsg = gettext("Item deleted sucesfully.");
+			header("Location: backup.php?savemsg={$savemsg}");
 			exit;
 		}
 	}
@@ -62,39 +56,66 @@
 	/* TODO - This needs some basic input validation for the path at least */
 	unset($input_errors);
 	$pconfig = $_POST;
+	$savemsg = "";
+	$savemsgtype = "sucess";
 
-	if (!$input_errors) {
+	$ent = array();
+	$ent['name'] = $_POST['name'];
+	$ent['path'] = $_POST['path'];
+	$ent['enabled'] = $_POST['enabled'];
+	$ent['description'] = $_POST['description'];
 
-		$ent = array();
-		$ent['name'] = $_POST['name'];
-		$ent['path'] = $_POST['path'];
-		$ent['enabled'] = $_POST['enabled'];
-		$ent['description'] = $_POST['description'];
+	// check if path is blank
+	if ( $ent['path'] == "" || ctype_space($ent['path']) ) {
+		$savemsg .= gettext('Path can not be empty. ') . ' <br /> ';
+		$input_errors = true;
+	}
+	// make all paths start with /
+	elseif ( $ent['path'][0] != '/' ) {
+		$ent['path'] = "/" . $ent['path'];
+		$savemsg .= 'Added leading / to path, ';
+	}
 
+	// Check if path exists or if it's just /
+	if( $ent['path'] == '/' ) {
+		$savemsg .= gettext("Best not to include everything on this system.") . ' <br />';
+		$savemsg .= gettext("Please specify just a folder, not /.") . ' <br /> ';
+		$input_errors = true;
+	}
+	elseif( !$input_errors && count( glob( $ent['path'] ) ) == 0 ) {
+		$savemsg .= gettext("Path does not exist.") . ' <br /> ';
+		$input_errors = true;
+	}
+
+	if (!$input_errors) {
 		if (isset($id) && $a_backup[$id]) {
 			// update
 			$a_backup[$id] = $ent;
+			$savemsg .= 'Backup location updated sucessfully. ';
 		} else {
 			// add
 			$a_backup[] = $ent;
+			$savemsg .= 'Backup location added sucessfully. ';
 		}
 
 		write_config("Backup: Settings saved");
 		backup_sync_package();
 
-		$savemsg = gettext("Leading / was added to path.");
-		header("Location: backup.php?savemsg=$savemsg");
+		$savemsg = gettext($savemsg);
+		header("Location: backup.php?savemsg={$savemsg}");
 		exit;
 	}
+	else {
+		$savemsgtype = "danger";
+	}
 }
 
 $thispage = gettext("Add");
 if (!empty($id)) {
 	$thispage = gettext("Edit");
 }
-include("/usr/local/pkg/backup_header.inc");
+include("/usr/local/pkg/backup_head.inc");
 
-
 $form = new Form();
 $section = new Form_Section('Backup Settings');
 
@@ -110,7 +131,7 @@
 	'Path',
 	'text',
 	$pconfig['path']
-))->setHelp('Enter the full path to the file or directory to backup.');
+))->setHelp('Enter the full path to the file or directory to backup. Path will have a leading / if it does not have one. Path can include shell glob characters. See <A href=https://www.php.net/manual/en/function.glob.php target=_blank >glob - Manual, pattern</a>.');
 
 $section->addInput(new Form_Select(
 	'enabled',
